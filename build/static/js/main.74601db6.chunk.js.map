{"version":3,"sources":["services/Persons.js","components/RemovePerson.js","components/Filter.js","components/Person.js","components/AddPerson.js","components/Notify.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","delete","RemovePerson","setPersons","name","setMessage","setErrorStyle","onClick","window","confirm","personService","then","response","data","backgroundColor","color","setTimeout","console","log","FilterInput","setFilterValue","onChange","event","target","value","Filter","persons","filterValue","filter","person","includes","map","filteredPerson","i","number","Person","AddPerson","newName","newNumber","addPerson","type","some","catch","error","concat","Notify","errorMessage","errorStyle","className","style","App","useState","setNewName","setNewNumber","newFilter","setErrorMessage","useEffect","preventDefault","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.74601db6.chunk.js","sourcesContent":["\r\nimport axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`) \r\n}\r\n\r\nconst changeNumber = (id, newNumber) => {\r\n  return axios.put(`${baseUrl}/${id}`, {number: newNumber})\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update, \r\n  remove: remove,\r\n  changeNumber: changeNumber\r\n}","import React from 'react'\r\nimport personService from '../services/Persons'\r\n\r\nconst RemovePerson = ({id, setPersons, name, setMessage, setErrorStyle}) => {\r\n  \r\n  const remove = () => {\r\n    if (window.confirm(`Delete ${name}?`)){\r\n      personService\r\n      .remove(id)\r\n      .then(() => {\r\n        personService\r\n        .getAll()\r\n        .then(response => {\r\n          setPersons(response.data)\r\n          \r\n          setErrorStyle({\r\n            backgroundColor: 'red',\r\n            color: 'white'\r\n          })\r\n          \r\n          setMessage(`${name} has been removed from the phonebook!`)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n\r\n          console.log(`removed person`)\r\n        })         \r\n      })\r\n    } \r\n  } \r\n  \r\n  return (\r\n    <span>\r\n      <button onClick={() => remove()}>delete</button>\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default RemovePerson","import React from 'react'\r\nimport RemovePerson from './RemovePerson'\r\n\r\nconst FilterInput = ({setFilterValue}) => {\r\n  return (\r\n    <div>\r\n      <p>filter shown with</p>\r\n      <input onChange={event => setFilterValue(event.target.value)}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Filter = ({persons, filterValue, setPersons, setErrorStyle, setMessage}) => {\r\n  return (\r\n    <div>\r\n        {persons.filter(person => person.name.includes(filterValue)).map((filteredPerson, i)=> (\r\n          <p key={i}>{filteredPerson.name} {filteredPerson.number}\r\n          <RemovePerson id={filteredPerson.id} setPersons={setPersons} name={filteredPerson.name} \r\n          setErrorStyle={setErrorStyle} setMessage={setMessage}/></p>\r\n        ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport {\r\n  Filter,\r\n  FilterInput\r\n}","import React from 'react'\r\n\r\nconst Person = ({name, number}) => {\r\n    \r\n    return (\r\n      <div>\r\n        name: <input\r\n        onChange={name}\r\n        />\r\n        <br/>\r\n        number: <input onChange={number}/>\r\n        <br/>\r\n      </div>\r\n\r\n    )\r\n}\r\n \r\nexport default Person","import React from 'react'\r\nimport personService from '../services/Persons'\r\n\r\n\r\nconst AddPerson = ({persons, setPersons, newName, newNumber, setMessage, setErrorStyle}) => {\r\n\r\n  const addPerson = {\r\n    name: newName,\r\n    number: newNumber\r\n  }\r\n\r\n  const add = () => {\r\n    if (!persons.some(person => person.name === newName) && newName !== ''){\r\n      personService\r\n        .create(addPerson)\r\n        .then(response => {\r\n          setPersons(persons.concat(response.data))\r\n\r\n          setErrorStyle({\r\n            backgroundColor: 'green',\r\n            color: 'white'\r\n          })\r\n\r\n          setMessage(`${newName} has been added to the phonebook!`)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n        })\r\n\r\n    } else if (!persons.some(person => person.number === newNumber) && newNumber !== '' \r\n    && window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\r\n      personService  \r\n      .update(persons.filter(person => person.name.includes(newName))[0].id, {name: newName, number: newNumber})\r\n      .then(() => {\r\n        personService\r\n        .getAll()\r\n        .then(response => {\r\n          setErrorStyle({\r\n            backgroundColor: 'blue',\r\n            color: 'white'\r\n          })        \r\n          setMessage(`The number of ${newName} has been changed.`)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n          setPersons(response.data)\r\n          console.log(`${newName} number has been changed.`)\r\n        })\r\n      })\r\n      .catch(error => {\r\n        setErrorStyle({\r\n          backgroundColor: 'red',\r\n          color: 'white'\r\n        })        \r\n        setMessage(`${newName} has already been removed from the server!`)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 5000)\r\n        console.log(error)\r\n      })\r\n      \r\n    } else {\r\n      setErrorStyle({\r\n        backgroundColor: 'yellow',\r\n        color: 'black'\r\n      })\r\n\r\n      setMessage(`${newName} is already in the phonebook.`)\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button type='button' onClick={() => add()}>add</button>\r\n  )\r\n}\r\n\r\n\r\nexport default AddPerson","import React from 'react'\r\n\r\n\r\n\r\nconst Notify = ({errorMessage, errorStyle}) => {\r\n\r\n    if (errorMessage === null) {\r\n      return null      \r\n    } else {\r\n      console.log('returning message')\r\n      return (\r\n        <div className='error' style={errorStyle}>\r\n            <h1>{errorMessage}</h1>\r\n        </div>\r\n      )\r\n    } \r\n}\r\n\r\n\r\nexport default Notify","import React, { useState, useEffect } from 'react'\r\nimport {FilterInput, Filter} from './components/Filter'\r\nimport Person from './components/Person'\r\nimport AddPerson from './components/AddPerson'\r\nimport personService from './services/Persons'\r\nimport Notify from './components/Notify'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const [ newFilter, setFilterValue] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n  const [ errorStyle, setErrorStyle ] = useState({})\r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        console.log('promise fulfilled', response.data)\r\n        setPersons(response.data)     \r\n      })\r\n  }, [])\r\n\r\n  console.log(newName)\r\n  \r\n  const inputChange = (event) => {\r\n    event.preventDefault()\r\n    setNewName(event.target.value)\r\n  } \r\n\r\n  const numberChange = (event) => {\r\n    event.preventDefault()\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notify errorMessage={errorMessage} errorStyle={errorStyle}/>\r\n      <form>\r\n        <FilterInput setFilterValue={setFilterValue}/>\r\n        <h2>add a new</h2>\r\n        <Person name={inputChange} number={numberChange}/>\r\n        <AddPerson persons={persons} setPersons={setPersons} newName={newName} \r\n        newNumber={newNumber} setMessage={setErrorMessage} setErrorStyle={setErrorStyle}/>\r\n      </form>\r\n      <h2>Numbers</h2>\r\n      <Filter persons={persons} filterValue={newFilter} setPersons={setPersons} \r\n      setMessage={setErrorMessage} setErrorStyle={setErrorStyle}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}